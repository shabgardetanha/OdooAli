version: '3.8'

services:
  django:
    build: . 
    ports:
      - "8000:8000"  
    environment:
      - DJANGO_SETTINGS_MODULE=OdooAli.settings  
      - POSTGRES_NAME=warehouse_db  
      - POSTGRES_USER=your_db_user  
      - POSTGRES_PASSWORD=your_db_password  

      - POSTGRES_HOST=db  
      - POSTGRES_PORT=5432  
      - ./OdooAli:/app/OdooAli  
      - ./requirements.txt:/app/requirements.txt  
      - ./static:/app/static  
      - ./templates:/app/templates  
    env_file:
      - .env
    depends_on:
      - postgres  
      - tailwind

  postgres:
    image: postgres:14-alpine  
    env_file:
      - .env 
    volumes:
      - postgres_data:/var/lib/postgresql/data  
    ports:
      - "5432:5432"  


  tailwind:
    build: .
    container_name: tailwind_app
    command: npm run watch
    volumes:
      - .:/app

      
volumes:
  postgres_data: